
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../diagrams/full-example-sequence/">
      
      
        <link rel="next" href="../sponsors/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Contract Interface - Wrapping AENS names into AEX-141 NFTs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#contract-interface" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Wrapping AENS names into AEX-141 NFTs" class="md-header__button md-logo" aria-label="Wrapping AENS names into AEX-141 NFTs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Wrapping AENS names into AEX-141 NFTs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Contract Interface
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="pink"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/marc0olo/aens-nfts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Wrapping AENS names into AEX-141 NFTs" class="md-nav__button md-logo" aria-label="Wrapping AENS names into AEX-141 NFTs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Wrapping AENS names into AEX-141 NFTs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/marc0olo/aens-nfts" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../ideation-mindmap/" class="md-nav__link">
        Ideation Mindmap
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Single action sequences
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Single action sequences
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/wrap_aens_names/" class="md-nav__link">
        Wrap AENS names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/update_pointers/" class="md-nav__link">
        Update pointers of AENS names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/revoke_aens_names/" class="md-nav__link">
        Revoke AENS names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/transfer_aens_names/" class="md-nav__link">
        Transfer AENS names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/unwrap_aens_names/" class="md-nav__link">
        Unwrap AENS names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/reward_users/" class="md-nav__link">
        Reward users for extending names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/extend_aens_names/" class="md-nav__link">
        Extend AENS names
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/transfer_nfts/" class="md-nav__link">
        Transfer NFTs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/burn_nfts/" class="md-nav__link">
        Explicit Burn of NFTs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../diagrams/full-example-sequence/" class="md-nav__link">
        Full example sequence
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Contract Interface
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Contract Interface
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aex-141" class="md-nav__link">
    AEX-141
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aens-wrapping" class="md-nav__link">
    AENS Wrapping
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../sponsors/" class="md-nav__link">
        Sponsors
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aex-141" class="md-nav__link">
    AEX-141
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aens-wrapping" class="md-nav__link">
    AENS Wrapping
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="contract-interface">Contract Interface</h1>
<h2 id="aex-141">AEX-141</h2>
<div class="highlight"><pre><span></span><code><span class="k">contract</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="nf">IAEX141</span><span class="w"> </span><span class="ow">=</span>
<span class="w">    </span><span class="k">datatype</span><span class="w"> </span><span class="n">metadata_type</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="nf">URL</span><span class="w"> </span><span class="ow">|</span><span class="w"> </span><span class="nf">OBJECT_ID</span><span class="w"> </span><span class="ow">|</span><span class="w"> </span><span class="nf">MAP</span>
<span class="w">    </span><span class="k">datatype</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span><span class="nf">MetadataIdentifier</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">|</span><span class="w"> </span><span class="nf">MetadataMap</span><span class="p">(</span><span class="kt">map</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">))</span>

<span class="w">    </span><span class="k">record</span><span class="w"> </span><span class="n">meta_info</span><span class="w"> </span><span class="ow">=</span><span class="w"> </span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="n">name</span><span class="ow">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">symbol</span><span class="ow">:</span><span class="w"> </span><span class="kt">string</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">base_url</span><span class="ow">:</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">metadata_type</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="n">metadata_type</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="k">datatype</span><span class="w"> </span><span class="kt">event</span>
<span class="w">        </span><span class="ow">=</span><span class="w"> </span><span class="nf">Transfer</span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">Approval</span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">ApprovalForAll</span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// extension &quot;mintable&quot;</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">Mint</span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// extension &quot;burnable&quot;</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">Burn</span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>

<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">aex141_extensions</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">list</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">meta_info</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="n">meta_info</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">metadata</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">total_supply</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">int</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">owner</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">address</span><span class="p">)</span><span class="w">  </span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">transfer</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">string</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">transfer_to_contract</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">approve</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">approve_all</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">get_approved</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">address</span><span class="p">)</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">is_approved</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">bool</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">is_approved_for_all</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">bool</span>

<span class="w">    </span><span class="c1">// extension &quot;mintable&quot;</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">mint</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="n">metadata</span><span class="p">),</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">string</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">int</span>

<span class="w">    </span><span class="c1">// extension &quot;burnable&quot;</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">burn</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>
</code></pre></div>
<h2 id="aens-wrapping">AENS Wrapping</h2>
<div class="highlight"><pre><span></span><code><span class="k">contract</span><span class="w"> </span><span class="k">interface</span><span class="w"> </span><span class="nf">IAENSWrapping</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="nf">IAEX141</span><span class="w"> </span><span class="ow">=</span>

<span class="w">    </span><span class="k">datatype</span><span class="w"> </span><span class="kt">event</span>
<span class="w">        </span><span class="c1">// name, nft_id, owner, new_ttl</span>
<span class="w">        </span><span class="ow">=</span><span class="w"> </span><span class="nf">NameWrap</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// name, nft_id, current_owner, recipient</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">NameUnwrap</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// name, nft_id, new_ttl, caller</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">NameExtend</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// name, nft_id_old, nft_id_new</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">NameTransfer</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>
<span class="w">        </span><span class="c1">// nft_id, caller, reward</span>
<span class="w">        </span><span class="ow">|</span><span class="w"> </span><span class="nf">Reward</span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span>

<span class="w">    </span><span class="k">record</span><span class="w"> </span><span class="n">nft_data</span><span class="w"> </span><span class="ow">=</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="n">id</span><span class="ow">:</span><span class="w"> </span><span class="kt">int</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">owner</span><span class="ow">:</span><span class="w"> </span><span class="kt">address</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">owner_config</span><span class="ow">:</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">names</span><span class="ow">:</span><span class="w"> </span><span class="kt">list</span><span class="p">(</span><span class="kt">string</span><span class="p">)</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">expiration_height</span><span class="ow">:</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="k">record</span><span class="w"> </span><span class="n">config</span><span class="w"> </span><span class="ow">=</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="n">reward</span><span class="ow">:</span><span class="w"> </span><span class="kt">int</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">reward_block_window</span><span class="ow">:</span><span class="w"> </span><span class="kt">int</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">emergency_reward</span><span class="ow">:</span><span class="w"> </span><span class="kt">int</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">emergency_reward_block_window</span><span class="ow">:</span><span class="w"> </span><span class="kt">int</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">can_receive_from_others</span><span class="ow">:</span><span class="w"> </span><span class="kt">bool</span>
<span class="w">        </span><span class="p">,</span><span class="w"> </span><span class="n">burnable_if_empty</span><span class="ow">:</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="c1">/// @notice returns the account address of the real owner</span>
<span class="w">    </span><span class="c1">/// @param name the name to lookup</span>
<span class="w">    </span><span class="c1">/// @return real owner</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">resolve_owner</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">address</span><span class="p">)</span>

<span class="w">    </span><span class="c1">/// @notice returns the nft id where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the name to lookup</span>
<span class="w">    </span><span class="c1">/// @return nft_id</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">resolve_nft_id</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>

<span class="w">    </span><span class="c1">/// @notice returns the nft id where the AENS name is wrapped into as well as the real owner of the name</span>
<span class="w">    </span><span class="c1">/// @param name the name to lookup</span>
<span class="w">    </span><span class="c1">/// @return nft_id and owner</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">resolve_nft_id_and_owner</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="ow">*</span><span class="w"> </span><span class="kt">address</span><span class="p">)</span>

<span class="w">    </span><span class="c1">/// @notice returns the nft id where the AENS name is wrapped into as well as the real owner of the name</span>
<span class="w">    </span><span class="c1">/// @param nft_id the NFT id</span>
<span class="w">    </span><span class="c1">/// @return nft_data</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">get_nft_data</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="n">nft_data</span><span class="p">)</span>

<span class="w">    </span><span class="c1">/// @notice returns the expiration height of names that are wrapped into the provided nft id</span>
<span class="w">    </span><span class="c1">/// @param nft_id the NFT id</span>
<span class="w">    </span><span class="c1">/// @return the (fixed) height where all names wrapped into the nft will expire</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">get_expiration_by_nft_id</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span>

<span class="w">    </span><span class="c1">/// @notice returns the global config for an account</span>
<span class="w">    </span><span class="c1">/// @param account the account address to lookup the config for</span>
<span class="w">    </span><span class="c1">/// @return the global config for an account OR None if not set</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">get_global_config</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>

<span class="w">    </span><span class="c1">/// @notice returns the balance included in the reward pool</span>
<span class="w">    </span><span class="c1">/// @param account the account where the reward pool balance should be looked up for</span>
<span class="w">    </span><span class="c1">/// @return the reward pool balance</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">get_reward_pool</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">int</span>

<span class="w">    </span><span class="c1">/// @notice wraps AENS names into a fresh minted NFT, adds NFT metadata, extends all names</span>
<span class="w">    </span><span class="c1">/// @param names_delegation_sigs a map (key = AENS name, value = delegation signature)</span>
<span class="w">    </span><span class="c1">/// @return the NFT id</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">wrap_and_mint</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">map</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">signature</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">int</span>

<span class="w">    </span><span class="c1">/// @notice wraps a single AENS name into an existing NFT, adds NFT metadata, updates expiry of name to match expiry of already wrapped names</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT to wrap the AENS name into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name to wrap</span>
<span class="w">    </span><span class="c1">/// @param delegation_sig the delegation signature for the name</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">wrap_single</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">signature</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice wraps multiple AENS names into an existing NFT, adds NFT metadata, updates expiry of names to match expiry of already wrapped names</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT to wrap the AENS name into</span>
<span class="w">    </span><span class="c1">/// @param names_delegation_sigs a map (key = AENS name, value = delegation signature)</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">wrap_multiple</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">map</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">signature</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice adds / replaces a pointer of the AENS name while keeping existing pointers</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name where the pointer will be added / replaced</span>
<span class="w">    </span><span class="c1">/// @param pointer_key the key of the pointer</span>
<span class="w">    </span><span class="c1">/// @param pointer_value the object to point to (account, channel, contract, oracle)</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">add_pointer</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nc">AENS</span><span class="p">.</span><span class="n">pointee</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice adds / replaces a set of pointers of the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name where the pointer will be added / replaced</span>
<span class="w">    </span><span class="c1">/// @param pointers a map of pointers to set</span>
<span class="w">    </span><span class="c1">/// @param keep_existing a bool indicating whether to keep existing pointers or not</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">add_pointers</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">map</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nc">AENS</span><span class="p">.</span><span class="n">pointee</span><span class="p">),</span><span class="w"> </span><span class="kt">bool</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice removes a pointer of the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name where the pointer will be removed</span>
<span class="w">    </span><span class="c1">/// @param pointer_key the key of the pointer</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">remove_pointer</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice removes multiple pointers of the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name where the pointers will be removed</span>
<span class="w">    </span><span class="c1">/// @param pointer_keys a set of pointer keys</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">remove_pointers</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nc">Set</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="kt">string</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice removes all pointers of the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name where the pointers will be removed</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">remove_all_pointers</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice revokes a single AENS name wrapped in the NFT, removes metadata</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name to revoke</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">revoke_single</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice revokes multiple AENS names wrapped in the NFT, removes metadata</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="c1">/// @param names the AENS names to revoke</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">revoke_multiple</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nc">Set</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="kt">string</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice revokes all AENS names wrapped in the NFT, removes metadata and burns the NFT</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT where the AENS name is wrapped into</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">revoke_all</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers a single AENS name to another NFT by updating metadata of both NFTs, updates expiry of name to match expiry of already wrapped names</span>
<span class="w">    </span><span class="c1">/// @param nft_id_old the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id_new the id of the NFT that will wrap the AENS name in the future</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name to transfer</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">transfer_single</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers multiple AENS names to another NFT by updating metadata of both NFTs, updates expiry of names to match expiry of already wrapped names</span>
<span class="w">    </span><span class="c1">/// @param nft_id_old the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id_new the id of the NFT that will wrap the AENS name in the future</span>
<span class="w">    </span><span class="c1">/// @param names the AENS names to transfer</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">transfer_multiple</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nc">Set</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="kt">string</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers a single AENS name to another NFT by updating metadata of both NFTs, updates expiry of names to match expiry of already wrapped names, burns the old NFT</span>
<span class="w">    </span><span class="c1">/// @param nft_id_old the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id_new the id of the NFT that will wrap the AENS name in the future</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">transfer_all</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice claims the transfer of a single AENS name to another NFT, requires the current owner to provide the delegation signature off-chain to the owner of the target NFT, updates expiry of name to match expiry of already wrapped names</span>
<span class="w">    </span><span class="c1">/// @param nft_id_old the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id_new the id of the NFT that will wrap the AENS name in the future</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name to transfer</span>
<span class="w">    </span><span class="c1">/// @param delegation_sig the delegation signature for the name provided by the owner of nft_id_old</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">claim_single_transfer</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">signature</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice claims the transfer of a single AENS name to another NFT, requires the current owner to provide the delegation signatures off-chain to the owner of the target NFT, updates expiry of names to match expiry of already wrapped names</span>
<span class="w">    </span><span class="c1">/// @param nft_id_old the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param nft_id_new the id of the NFT that will wrap the AENS name in the future</span>
<span class="w">    </span><span class="c1">/// @param names_delegation_sigs a map (key = AENS name, value = delegation signature)</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">claim_multiple_transfer</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">map</span><span class="p">(</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">signature</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers the AENS name back to the owner or to another defined recipient, updates metadata</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param name the AENS name to transfer</span>
<span class="w">    </span><span class="c1">/// @param recipient the address that should receive the AENS name</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">unwrap_single</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">address</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers the AENS names back to the owner or to another defined recipient, updates metadata</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param names the AENS names to transfer</span>
<span class="w">    </span><span class="c1">/// @param recipient the address that should receive the AENS name</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">unwrap_multiple</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="nc">Set</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="kt">string</span><span class="p">),</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">address</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers all AENS names back to the owner or to another defined recipient, updates metadata, burns the NFT</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT that currently wraps the AENS name</span>
<span class="w">    </span><span class="c1">/// @param recipient the address that should receive the AENS name</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">unwrap_all</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="kt">option</span><span class="p">(</span><span class="kt">address</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice caller sets global config for NFTs owned by the caller</span>
<span class="w">    </span><span class="c1">/// @param config the global config</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">set_global_config</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="n">config</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice caller removes global config for NFTs owned by the caller</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">remove_global_config</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice caller sets NFT specific config</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT to set the config</span>
<span class="w">    </span><span class="c1">/// @param config the nft specific config</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">set_nft_config</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">,</span><span class="w"> </span><span class="n">config</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice caller removes NFT specific config</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT to remove the config from</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">remove_nft_config</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice caller deposits AE to his reward pool</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">payable</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">deposit_to_reward_pool</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice caller withdraws all AE or a specific amount from his reward pool</span>
<span class="w">    </span><span class="c1">/// @param amount the optional amount of AE to withdraw</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">withdraw_from_reward_pool</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">option</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice calculates the reward based on the expiration date of the names wrapped in an NFT, considering the global config (or the NFT specific config if set) and the amount of  deposited by the NFT owner</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT to extend</span>
<span class="w">    </span><span class="c1">/// @return the estimated reward</span>
<span class="w">    </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">estimate_reward</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">int</span>

<span class="w">    </span><span class="c1">/// @notice extends all AENS names wrapped in the NFT without getting a reward</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT that wraps the AENS names to extend</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">extend_all</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice extends all AENS names wrapped in the NFT and distributes a reward to the caller</span>
<span class="w">    </span><span class="c1">/// @param nft_id the id of the NFT that wraps the AENS names to extend</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">extend_all_for_reward</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice transfers a set of NFTs to the desired recipient</span>
<span class="w">    </span><span class="c1">/// @param recipient the address to become new owner of the NFTs</span>
<span class="w">    </span><span class="c1">/// @param nft_ids the ids of the NFTs to transfer</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">transfer_multiple_nfts</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="kt">address</span><span class="p">,</span><span class="w"> </span><span class="nc">Set</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>

<span class="w">    </span><span class="c1">/// @notice burns a set of NFTs (only possible if AENS names are expired)</span>
<span class="w">    </span><span class="c1">/// @param nft_ids the ids of the NFTs to burn</span>
<span class="w">    </span><span class="k">stateful</span><span class="w"> </span><span class="k">entrypoint</span><span class="w"> </span><span class="n">burn_multiple_nfts</span><span class="w"> </span><span class="ow">:</span><span class="w"> </span><span class="p">(</span><span class="nc">Set</span><span class="p">.</span><span class="n">set</span><span class="p">(</span><span class="kt">int</span><span class="p">))</span><span class="w"> </span><span class="ow">=&gt;</span><span class="w"> </span><span class="kt">unit</span>
</code></pre></div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.tabs.link", "search.highlight", "search.share", "search.suggest"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>